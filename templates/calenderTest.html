<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Example of Text Block Over Image</title>
    <link href="{{url_for('static',filename = 'css/star-style.css')}}" rel="stylesheet">

    <script type="text/javascript" src="{{url_for('static',filename = 'js/moment.min.js')}}"></script>

    <script>
        function fillCal() {
            console.log(moment.months());
            months = moment.months();
            //var a  = moment([2021, 1]).daysInMonth();
            //console.log(a)
            var star = "<div class='star' onclick='myFunction()'><img src = '{{url_for('static',filename = 'assets/star_gold.png')}}'  id = 'yolo'><div class='star-text'>1</div></div>"
            //document.getElementById("contai").innerHTML = star;
            year = 2021

            var table = document.createElement("TABLE");
            var row = table.insertRow(-1);
            for (var j = 0; j < months.length; j++) {
                var headerCell = document.createElement("TH");
                headerCell.innerHTML = months[j];
                row.appendChild(headerCell);
            }

            for (var k = 1; k <= 31; k++) {
                row = table.insertRow(-1);
                for (var month = 0; month < months.length; month++) {
                    var cell = row.insertCell(-1);
                    days_in_month = moment([year, month]).daysInMonth();

                    if (k <= days_in_month) {
                        cell.innerHTML = "<div class='star'><img src = '{{url_for('static',filename = 'assets/star_gold.png')}}'  id = 'yolo'><div class='star-text' value = 'true' id ='star_" + months[month] + "_" + k + "'>" + k + "</div></div>";
                    }
                }
            }



            var dvTable = document.getElementById("calender");
            dvTable.innerHTML = "";
            dvTable.appendChild(table);

            var elements = document.getElementsByClassName("star");
            var myFunction = function () {
                var attribute = this.getElementsByClassName('star-text')[0].id;
                console.log(attribute)
            };
            for (var i = 0; i < elements.length; i++) {
                elements[i].addEventListener('click', myFunction, false);
            }

        }

        document.addEventListener('DOMContentLoaded', function () {
            // your code here
            fillCal();
        }, false);
    </script>
</head>

<body>
    <table id="calender">

    </table>

</html>
</body>